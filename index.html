<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <link rel="icon" type="image/x-icon" href="favicon.png">
  <title>E-Farm: Karnataka Agri Product Exchange</title>
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  
  <link rel="stylesheet" href="style.css">
  
  <link
    rel="stylesheet"
    href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.2/css/all.min.css"
  />
</head>
<body>

  <div id="auth-container">
    <div id="login-form-container">
      <div style="text-align: center;">
        <img src="logo.jpg" alt="E-Farm Logo" id="login-logo">
      </div>
      <h2>Login to E-Farm</h2>
      <div id="login-error" class="auth-error hide"></div>
      <form id="login-form">
        <label>
          Username:
          <input type="text" id="loginUsername" required />
        </label>
        <label>
          Password:
          <input type="password" id="loginPassword" required />
        </label>
        <button type="submit" class="submit">Login</button>
      </form>
      <span class="auth-toggle-link" id="show-register">Don't have an account? Register</span>
    </div>

    <div id="register-form-container" class="hide">
      <div style="text-align: center;">
        <img src="logo.jpg" alt="E-Farm Logo" id="login-logo-register">
      </div>
      <h2>Register for E-Farm</h2>
      <div id="register-error" class="auth-error hide"></div>
      <form id="register-form">
        <label>
          Username:
          <input type="text" id="registerUsername" required />
        </label>
        <label>
          Password:
          <input type="password" id="registerPassword" required />
        </label>
        <label>
          Confirm Password:
          <input type="password" id="confirmPassword" required />
        </label>
        <button type="submit" class="submit">Register</button>
      </form>
      <span class="auth-toggle-link" id="show-login">Already have an account? Login</span>
    </div>
  </div>

  <header class="main-app hide">
    <div class="header-main">
      <img src="logo.jpg" alt="E-Farm Logo" id="header-logo">
      <h1>E-Farm: Karnataka Agri Product Exchange</h1>
    </div>
    <div>Buy & Sell Agricultural Seeds, Fertilizers, and More by District</div>
    <div class="social">
      <a href="https://instagram.com" target="_blank" title="Instagram"
        ><i class="fab fa-instagram"></i
      ></a>
      <a href="https://facebook.com" target="_blank" title="Facebook"
        ><i class="fab fa-facebook"></i
      ></a>
      <a href="https://twitter.com" target="_blank" title="X/Twitter"
        ><i class="fab fa-x-twitter"></i
      ></a>
    </div>
  </header>

  <div class="user-info-bar main-app hide">
    <span id="welcome-msg"></span>
    <button id="logout-btn">Logout</button>
  </div>

  <nav class="main-app hide">
    <button onclick="showTab('marketplace')" class="active">Marketplace</button>
    <button onclick="showTab('checkout')">Cart <span id="cart-count">(0)</span></button>
    <button onclick="showTab('my-orders')">My Orders</button>
    <button onclick="showTab('about')">About</button>
    <button onclick="showTab('faq')">FAQ</button>
    <button onclick="showTab('contact')">Contact</button>
  </nav>

  <main class="main-app hide">

    <section id="marketplace-tab" class="section">
      <h2>Marketplace</h2>
      
      <input
        type="text"
        id="searchProduct"
        placeholder="Search product by name..."
        autocomplete="off"
      />
      
      <div class="filter-row">
        <label>
          Show products for
          <select id="filterDistrict">
            <option value="">All districts</option>
            <option>Bagalkot</option>
            <option>Bangalore Rural</option>
            <option>Bangalore Urban</option>
            <option>Belagavi</option>
            <option>Ballari</option>
            <option>Bidar</option>
            <option>Chamarajanagar</option>
            <option>Chikkaballapur</option>
            <option>Chikkamagaluru</option>
            <option>Chitradurga</option>
            <option>Dakshina Kannada</option>
            <option>Davanagere</option>
            <option>Dharwad</option>
            <option>Gadag</option>
            <option>Hassan</option>
            <option>Haveri</option>
            <option>Kalaburagi</option>
            <option>Kodagu</option>
            <option>Kolar</option>
            <option>Koppal</option>
            <option>Mandya</option>
            <option>Mysuru</option>
            <option>Raichur</option>
            <option>Ramanagara</option>
            <option>Shivamogga</option>
            <option>Tumakuru</option>
            <option>Udupi</option>
            <option>Uttara Kannada</option>
            <option>Vijayapura</option>
            <option>Yadgir</option>
          </select>
        </label>
        <label>
          Category
          <select id="filterCategory">
            <option value="">All categories</option>
            <option>Seeds</option>
            <option>Fertilizers</option>
            <option>Tools</option>
            <option>Pesticides</option>
            <option>Machinery</option>
            <option>Produce</option>
            <option>Others</option>
          </select>
        </label>
        <label>
          Sort by
          <select id="sortBy">
            <option value="recent">Most Recent</option>
            <option value="rating">Top Rated</option>
            <option value="priceAsc">Price: Low to High</option>
            <option value="priceDesc">Price: High to Low</option>
            <option value="delivery">Delivery: Fastest First</option>
          </select>
        </label>
      </div>

      <div class="product-list" id="productList"></div>

      <details class="add-product-collapsible">
        <summary>Click here to sell a new product</summary>
        <form id="productForm" autocomplete="off">
          <label>
            Your Name:
            <input type="text" id="sellerName" required />
          </label>
          <label>
            Your Contact Number/Email:
            <input type="text" id="contactInfo" required />
          </label>
          <label>
            District:
            <select id="district" required>
              <option value="" disabled selected>Select your district</option>
              <option>Bagalkot</option>
              <option>Bangalore Rural</option>
              <option>Bangalore Urban</option>
              <option>Belagavi</option>
              <option>Ballari</option>
              <option>Bidar</option>
              <option>Chamarajanagar</option>
              <option>Chikkaballapur</option>
              <option>Chikkamagaluru</option>
              <option>Chitradurga</option>
              <option>Dakshina Kannada</option>
              <option>Davanagere</option>
              <option>Dharwad</option>
              <option>Gadag</option>
              <option>Hassan</option>
              <option>Haveri</option>
              <option>Kalaburagi</option>
              <option>Kodagu</option>
              <option>Kolar</option>
              <option>Koppal</option>
              <option>Mandya</option>
              <option>Mysuru</option>
              <option>Raichur</option>
              <option>Ramanagara</option>
              <option>Shivamogga</option>
              <option>Tumakuru</option>
              <option>Udupi</option>
              <option>Uttara Kannada</option>
              <option>Vijayapura</option>
              <option>Yadgir</option>
            </select>
          </label>
          <label>
            Category:
            <select id="category" required>
              <option value="" disabled selected>Select product category</option>
              <option>Seeds</option>
              <option>Fertilizers</option>
              <option>Tools</option>
              <option>Pesticides</option>
              <option>Machinery</option>
              <option>Produce</option>
              <option>Others</option>
            </select>
          </label>
          <label>
            Product Name:
            <input type="text" id="productName" required />
          </label>
          <label>
            Description:
            <button type="button" id="generateDescBtn" class="gemini-btn">✨ Generate Description</button>
            <span id="gemini-loader" class="hide">Generating...</span>
          </label>
          <textarea id="description" rows="2"></textarea>
          <label>
            Price (₹):
            <input type="number" id="price" min="1" required />
          </label>
          <label>
            Estimated Delivery Days:
            <input
              type="number"
              id="deliveryDays"
              min="1"
              max="30"
              required
              placeholder="e.g., 3"
            />
          </label>
          <label>
            Image:
            <input type="file" id="imageInput" accept="image/*" />
          </label>
          <button type="submit" class="submit">Add Product</button>
        </form>
      </details>
    </section>
    
    <section id="checkout-tab" class="section" style="display:none;">
      <h2>Checkout</h2>
      <div id="cartList"></div>

      <h3>Confirm Your Order</h3>
      <p>You will pay the total amount in cash upon delivery.</p>
      <button id="place-order-btn" class="submit" style="width: auto; padding: 10px 30px; display: none;">Place Order</button>
      
      <div id="paymentMsg" class="payment-success"></div>
    </section>

    <section id="my-orders-tab" class="section" style="display:none;">
      <h2>My Order History</h2>
      <div id="orderList">
        </div>
    </section>

    <section id="about-tab" class="section" style="display:none;">
      <h2>About E-Pharm</h2>
      <p>
        <strong>E-Pharm</strong> is an agricultural product exchange platform that
        directly connects sellers and buyers of seeds, fertilizers, produce, and tools
        – district-wise in Karnataka. Empowering farmers & agri-businesses to trade
        securely and efficiently.
      </p>
    </section>

    <section id="faq-tab" class="section" style="display:none;">
      <h2>Frequently Asked Questions</h2>
      <p><strong>Q: Can I buy multiple products?</strong><br />
        Yes! You can add up to 5 products to your cart before checking out.</p>
      <p><strong>Q: Does E-Pharm show seller contacts?</strong><br />
        Yes, seller contact is visible alongside products for transparency.</p>
      <p><strong>Q: How do product ratings work?</strong><br />
        Buyers leave ratings and reviews after purchase to guide others.</p>
      <p><strong>Q: Can I update my listing?</strong><br />
        Not in this demo; clear browser data to reset or re-add updated products.</p>
    </section>

    <section id="contact-tab" class="section" style="display:none;">
      <h2>Contact & Support</h2>
      <form id="contactForm">
        <label>Your Name:
          <input type="text" required />
        </label>
        <label>Your Email:
          <input type="email" required />
        </label>
        <label>Message:
          <textarea rows="2" required></textarea>
        </label>
        <button type="submit" class="submit">Submit</button>
      </form>
      <div style="margin-top:20px;">
        <strong>Email:</strong> epharm.support@fakemail.com <br />
        <strong>Phone:</strong> +91-91234 56789 <br />
        <strong>Location:</strong> Moodbidri, Karnataka
      </div>
    </section>
  </main>

  <div id="custom-alert-overlay" class="hide">
    <div id="custom-alert-box">
      <p id="custom-alert-message"></p>
      <button id="custom-alert-ok">OK</button>
    </div>
  </div>

  <script src="script.js"></script>
</body>

</html>
